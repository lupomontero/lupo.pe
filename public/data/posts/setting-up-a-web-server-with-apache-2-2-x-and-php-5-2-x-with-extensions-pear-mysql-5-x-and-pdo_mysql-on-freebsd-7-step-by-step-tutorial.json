{
  "id": "setting-up-a-web-server-with-apache-2-2-x-and-php-5-2-x-with-extensions-pear-mysql-5-x-and-pdo_mysql-on-freebsd-7-step-by-step-tutorial",
  "title": "Setting up a web server with Apache 2.2.x and PHP 5.2.x with extensions, PEAR, MySQL 5.x and pdo_mysql on FreeBSD 7 step by step tutorial",
  "url": "https://lupomontero.com/setting-up-a-web-server-with-apache-2-2-x-and-php-5-2-x-with-extensions-pear-mysql-5-x-and-pdo_mysql-on-freebsd-7-step-by-step-tutorial/",
  "tags": [
    "apache",
    "freebsd",
    "mysql",
    "pear",
    "php"
  ],
  "author": "lupo",
  "publishedAt": "2009-09-13T00:00:00.000Z",
  "body": "<p>This quick tutorial will show you how to set up a FreeBSD machine (based on\nminimal install) to run as a web server using Apache 2.2.x, PHP 5 and MySQL 5.\nThis tutorial is based on FreeBSD 7.2 (the current stable release at the time of\nthis writing).</p>\n<p>This tutorial builds on the minimal installation described here and assumes you\nhave also downloaded the ports collection. If you haven’t done so please read\nthe following article first: Managing ports in FreeBSD.</p>\n<h2>Install MySQL 5.1.x from BSD ports</h2>\n<p>Installing ports will normally involve two commands, changing directory to the\ncorrect port in the ports collection and then running “make install clean”. The\nsecond command is actually composed of three steps (making, installing and\ncleaning up after the installation).</p>\n<pre><code class=\"language-sh\">$ cd /usr/ports/databases/mysql51-server\n$ make install clean\n</code></pre>\n<p>Now MySQL will be built from source. This process will take a while (actually, a\nvery long while…).</p>\n<p>After the installation process finishes we run mysql’s install script:</p>\n<pre><code class=\"language-sh\">$ /usr/local/bin/mysql_install_db\n</code></pre>\n<p>For security reasons it is recommended that we change ownership of the mysql\ndirectory:</p>\n<pre><code class=\"language-sh\">$ chown -R mysql /var/db/mysql/\n$ chgrp -R mysql /var/db/mysql/\n</code></pre>\n<p>Set MySQL root password:</p>\n<pre><code class=\"language-sh\">$ /usr/local/bin/mysqladmin -u root password 'Ch4ng3m3'\n</code></pre>\n<p>To automatically start MySQL on boot we need to edit the rc.conf file:</p>\n<pre><code class=\"language-sh\">$ ee /etc/rc.conf\n</code></pre>\n<p>Then add the following lines near the bottom:</p>\n<pre><code># Enable Mysql\nmysql_enable=\"YES\"\n</code></pre>\n<h2>Install apache 2.2.x from BSD ports</h2>\n<pre><code class=\"language-sh\">$ cd /usr/ports/www/apache22\n$ make install clean\n</code></pre>\n<p>This will take a while as it will install dependencies like perl, autoconf and\nmany other packages from source.</p>\n<p>Start Apache on boot:</p>\n<pre><code class=\"language-sh\">$ ee /etc/rc.conf\n</code></pre>\n<p>Then add the following lines near the bottom:</p>\n<pre><code># Enable Apache 2.2.x\napache22_enable=\"YES\"\n</code></pre>\n<p>To start/stop/restart the apache server:</p>\n<pre><code class=\"language-sh\">$ apachectl start\n$ apachectl stop\n$ apachectl restart\n</code></pre>\n<p>To “gracefully” restart the web server (without breaking current connections):</p>\n<pre><code class=\"language-sh\">$ apachectl graceful\n</code></pre>\n<p>To simply reload configuration:</p>\n<pre><code class=\"language-sh\">$ apachectl reload\n</code></pre>\n<h2>Install PHP 5.2.x from BSD ports</h2>\n<pre><code class=\"language-sh\">$ cd /usr/ports/lang/php5\n$ make install clean\n</code></pre>\n<p>This will show a configuration screen where you can choose the installation\noptions. I personally choose everything except the CGI and CGI related options.\nI much prefer running PHP as an Apache module than CGI.</p>\n<p>After installing we edit Apache config:</p>\n<pre><code class=\"language-sh\">$ ee /usr/local/etc/apache22/httpd.conf\n</code></pre>\n<p>You have to add index.php after index.html to the DirectoryIndex directive, so\nit should look like this:</p>\n<pre><code># DirectoryIndex: sets the file that Apache will serve if a directory\n# is requested.\n#\n&#x3C;IfModule dir_module>\nDirectoryIndex index.html index.php\n&#x3C;/IfModule>\n</code></pre>\n<p>Add the following lines at the end and save changes:</p>\n<pre><code>AddType application/x-httpd-php .php\nAddType application/x-httpd-php-source .phps\n</code></pre>\n<h2>Install PHP extensions</h2>\n<pre><code class=\"language-sh\">$ cd /usr/ports/lang/php5-extensions\n$ make install clean\n</code></pre>\n<p>This will show a configuration screen where you can choose the installation\noptions. I personally choose all the defaults plus:</p>\n<pre><code>bz2\ncurl\nftp\ngd\nimap\nmbstring\nmysql\nopenssl\npdf\nxmlrpc\nzip\nzlib\n</code></pre>\n<p>Restart apache</p>\n<pre><code class=\"language-sh\">$ apachectl restart\n</code></pre>\n<h2>Install PEAR</h2>\n<pre><code class=\"language-sh\">$ cd /usr/ports/devel/pear\n$ make install clean\n</code></pre>\n<h2>Install pdo_mysql</h2>\n<pre><code class=\"language-sh\">$ cd /usr/ports/databases/php5-pdo_mysql\n$ make install clean\n</code></pre>\n<h2>Install phpMyAdmin</h2>\n<pre><code class=\"language-sh\">$ cd /usr/ports/databases/phpmyadmin\n$ make install clean\n</code></pre>"
}