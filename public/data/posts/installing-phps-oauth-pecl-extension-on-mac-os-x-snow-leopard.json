{
  "id": "installing-phps-oauth-pecl-extension-on-mac-os-x-snow-leopard",
  "title": "Installing PHP’s OAuth PECL extension on Mac OS X Snow Leopard",
  "url": "https://lupomontero.com/installing-phps-oauth-pecl-extension-on-mac-os-x-snow-leopard/",
  "tags": [
    "osx",
    "pecl",
    "php"
  ],
  "author": "lupo",
  "publishedAt": "2011-03-27T00:00:00.000Z",
  "body": "<p>I recently reinstalled the operating system on my Macbook and this time around I\ndecided to use <a href=\"https://github.com/mxcl/homebrew\">homebrew</a> to manage packages.\nSince <code>php</code> comes pre-installed with OS X and homebrew encourages using the\npre-installed binaries, I have been using the built-in install of <code>php</code>, and so\nfar so good.</p>\n<p>But today I tried to install <a href=\"http://php.net/manual/en/book.oauth.php\">php’s OAuth extension</a>,\nwhich comes as a <code>pecl</code> package, and I run into some errors.</p>\n<p>Before I started I updated the default <code>pecl</code> channel and upgraded <code>pecl</code>\nextensions already installed:</p>\n<pre><code class=\"language-sh\">$ sudo pecl channel-update pecl.php.net\n$ sudo pecl upgrade\n</code></pre>\n<p>At this point everything looked good, so I went ahead trying to install the\nOAuth extension but run into the following error:</p>\n<pre><code class=\"language-sh\">$ sudo pecl install oauth\n\ndownloading oauth-1.1.0.tgz ...\nStarting to download oauth-1.1.0.tgz (44,731 bytes)\n............done: 44,731 bytes\n6 source files, building\nrunning: phpize\nConfiguring for:\nPHP Api Version:         20090626\nZend Module Api No:      20090626\nZend Extension Api No:   220090626\nbuilding in /var/tmp/pear-build-root/oauth-1.1.0\nrunning: /private/var/tmp/apache_mod_php/apache_mod_php-53~1/Build/tmp/pear/temp/oauth/configure\nchecking for grep that handles long lines and -e... /usr/bin/grep\n\n...\n\nIn file included from /private/var/tmp/apache_mod_php/apache_mod_php-53~1/Build/tmp/pear/temp/oauth/php_oauth.h:47,\n             from /private/var/tmp/apache_mod_php/apache_mod_php-53~1/Build/tmp/pear/temp/oauth/oauth.c:14:\n/usr/include/php/ext/pcre/php_pcre.h:37: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘*’ token\n/usr/include/php/ext/pcre/php_pcre.h:38: error: expected ‘=’, ‘,’, ‘;’, ‘asm’ or ‘__attribute__’ before ‘*’ token\n/usr/include/php/ext/pcre/php_pcre.h:44: error: expected specifier-qualifier-list before ‘pcre’\nmake: *** [oauth.lo] Error 1\nERROR: 'make' failed\n</code></pre>\n<p>Hmmm. So something was wrong with the built-in <a href=\"http://www.pcre.org/\">PCRE</a>\npackage. After “googling” the problem and reading many contradicting solutions\nthe only thing that was clear is that I needed a newer version of PCRE. So I\ninstalled PCRE using homebrew with the following command (this should also work\nusing any other method – macports, compile from source, …):</p>\n<pre><code class=\"language-sh\">$ brew install pcre\n</code></pre>\n<p>This worked fine. So now I tried to install the OAuth extension once again using\nthe same comand as before:</p>\n<pre><code class=\"language-sh\">$ sudo pecl install oauth\n</code></pre>\n<p>And this time the extension was insatlled ok, yay!!</p>\n<p>The only thing I needed to do after that was adding the extension in my\n<code>php.ini</code> fie (by default it is in <code>/etc/php.ini</code>). Before the end of the\n<code>php.ini</code> file add <code>extension=oauth.so</code>. Finally we can check if the extension\nis getting loaded:</p>\n<pre><code class=\"language-sh\">$ php -i | grep -i oauth\n\nOAuth\nOAuth support => enabled\nsource version => $Id: oauth.c 308061 2011-02-06 17:15:34Z jawed $\n</code></pre>\n<p>Note that you will need to restart the apache web server in order for the\nextension to be loaded in the web server.</p>"
}